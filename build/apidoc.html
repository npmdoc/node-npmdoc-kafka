<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/marcuswestin/node-kafka"

    >kafka (v0.2.3)</a>
</h1>
<h4>A node client for Kafka</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.kafka">module kafka</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Client">
            function <span class="apidocSignatureSpan">kafka.</span>Client
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Client.prototype._encodeFetchRequest">
            function <span class="apidocSignatureSpan">kafka.</span>Client.prototype._encodeFetchRequest
            <span class="apidocSignatureSpan">(t)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Client.prototype._encodeOffsetsRequest">
            function <span class="apidocSignatureSpan">kafka.</span>Client.prototype._encodeOffsetsRequest
            <span class="apidocSignatureSpan">(t)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Client.prototype._last">
            function <span class="apidocSignatureSpan">kafka.</span>Client.prototype._last
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Client.prototype._onConnect">
            function <span class="apidocSignatureSpan">kafka.</span>Client.prototype._onConnect
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Client.prototype._onData">
            function <span class="apidocSignatureSpan">kafka.</span>Client.prototype._onData
            <span class="apidocSignatureSpan">(buf)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Client.prototype._pushRequest">
            function <span class="apidocSignatureSpan">kafka.</span>Client.prototype._pushRequest
            <span class="apidocSignatureSpan">(request)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Client.prototype._writeRequest">
            function <span class="apidocSignatureSpan">kafka.</span>Client.prototype._writeRequest
            <span class="apidocSignatureSpan">(request)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Client.prototype.connect">
            function <span class="apidocSignatureSpan">kafka.</span>Client.prototype.connect
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Client.prototype.fetchOffsets">
            function <span class="apidocSignatureSpan">kafka.</span>Client.prototype.fetchOffsets
            <span class="apidocSignatureSpan">(args)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Client.prototype.fetchTopic">
            function <span class="apidocSignatureSpan">kafka.</span>Client.prototype.fetchTopic
            <span class="apidocSignatureSpan">(args)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Client.prototype.init">
            function <span class="apidocSignatureSpan">kafka.</span>Client.prototype.init
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Connection">
            function <span class="apidocSignatureSpan">kafka.</span>Connection
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Consumer">
            function <span class="apidocSignatureSpan">kafka.</span>Consumer
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Consumer.prototype._pollForMessages">
            function <span class="apidocSignatureSpan">kafka.</span>Consumer.prototype._pollForMessages
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Consumer.prototype._processLast">
            function <span class="apidocSignatureSpan">kafka.</span>Consumer.prototype._processLast
            <span class="apidocSignatureSpan">(topic, offset)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Consumer.prototype._schedulePoll">
            function <span class="apidocSignatureSpan">kafka.</span>Consumer.prototype._schedulePoll
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Consumer.prototype._unschedulePoll">
            function <span class="apidocSignatureSpan">kafka.</span>Consumer.prototype._unschedulePoll
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Consumer.prototype.close">
            function <span class="apidocSignatureSpan">kafka.</span>Consumer.prototype.close
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Consumer.prototype.init">
            function <span class="apidocSignatureSpan">kafka.</span>Consumer.prototype.init
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Consumer.prototype.subscribeTopic">
            function <span class="apidocSignatureSpan">kafka.</span>Consumer.prototype.subscribeTopic
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Consumer.prototype.unsubscribeTopic">
            function <span class="apidocSignatureSpan">kafka.</span>Consumer.prototype.unsubscribeTopic
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Producer">
            function <span class="apidocSignatureSpan">kafka.</span>Producer
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Producer.prototype._encodeMessage">
            function <span class="apidocSignatureSpan">kafka.</span>Producer.prototype._encodeMessage
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Producer.prototype._encodeRequest">
            function <span class="apidocSignatureSpan">kafka.</span>Producer.prototype._encodeRequest
            <span class="apidocSignatureSpan">(topic, partition, messages)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Producer.prototype.init">
            function <span class="apidocSignatureSpan">kafka.</span>Producer.prototype.init
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Producer.prototype.send">
            function <span class="apidocSignatureSpan">kafka.</span>Producer.prototype.send
            <span class="apidocSignatureSpan">(messages, topic, partition)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">kafka.</span>Client.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">kafka.</span>Connection.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">kafka.</span>Consumer.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">kafka.</span>Producer.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">kafka.</span>error</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.kafka.Client">module kafka.Client</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Client.Client">
            function <span class="apidocSignatureSpan">kafka.</span>Client
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.kafka.Client.prototype">module kafka.Client.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Client.prototype._encodeFetchRequest">
            function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>_encodeFetchRequest
            <span class="apidocSignatureSpan">(t)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Client.prototype._encodeOffsetsRequest">
            function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>_encodeOffsetsRequest
            <span class="apidocSignatureSpan">(t)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Client.prototype._last">
            function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>_last
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Client.prototype._onConnect">
            function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>_onConnect
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Client.prototype._onData">
            function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>_onData
            <span class="apidocSignatureSpan">(buf)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Client.prototype._pushRequest">
            function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>_pushRequest
            <span class="apidocSignatureSpan">(request)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Client.prototype._writeRequest">
            function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>_writeRequest
            <span class="apidocSignatureSpan">(request)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Client.prototype.connect">
            function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>connect
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Client.prototype.constructor">
            function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>constructor
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Client.prototype.fetchOffsets">
            function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>fetchOffsets
            <span class="apidocSignatureSpan">(args)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Client.prototype.fetchTopic">
            function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>fetchTopic
            <span class="apidocSignatureSpan">(args)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Client.prototype.init">
            function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>init
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.kafka.Client.prototype._encodeFetchRequest">module kafka.Client.prototype._encodeFetchRequest</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Client.prototype._encodeFetchRequest._encodeFetchRequest">
            function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>_encodeFetchRequest
            <span class="apidocSignatureSpan">(t)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.kafka.Client.prototype._encodeOffsetsRequest">module kafka.Client.prototype._encodeOffsetsRequest</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Client.prototype._encodeOffsetsRequest._encodeOffsetsRequest">
            function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>_encodeOffsetsRequest
            <span class="apidocSignatureSpan">(t)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.kafka.Client.prototype._last">module kafka.Client.prototype._last</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Client.prototype._last._last">
            function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>_last
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.kafka.Client.prototype._onConnect">module kafka.Client.prototype._onConnect</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Client.prototype._onConnect._onConnect">
            function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>_onConnect
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.kafka.Client.prototype._onData">module kafka.Client.prototype._onData</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Client.prototype._onData._onData">
            function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>_onData
            <span class="apidocSignatureSpan">(buf)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.kafka.Client.prototype._pushRequest">module kafka.Client.prototype._pushRequest</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Client.prototype._pushRequest._pushRequest">
            function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>_pushRequest
            <span class="apidocSignatureSpan">(request)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.kafka.Client.prototype._writeRequest">module kafka.Client.prototype._writeRequest</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Client.prototype._writeRequest._writeRequest">
            function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>_writeRequest
            <span class="apidocSignatureSpan">(request)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.kafka.Client.prototype.connect">module kafka.Client.prototype.connect</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Client.prototype.connect.connect">
            function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>connect
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.kafka.Client.prototype.fetchOffsets">module kafka.Client.prototype.fetchOffsets</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Client.prototype.fetchOffsets.fetchOffsets">
            function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>fetchOffsets
            <span class="apidocSignatureSpan">(args)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.kafka.Client.prototype.fetchTopic">module kafka.Client.prototype.fetchTopic</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Client.prototype.fetchTopic.fetchTopic">
            function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>fetchTopic
            <span class="apidocSignatureSpan">(args)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.kafka.Client.prototype.init">module kafka.Client.prototype.init</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Client.prototype.init.init">
            function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>init
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.kafka.Connection">module kafka.Connection</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Connection.Connection">
            function <span class="apidocSignatureSpan">kafka.</span>Connection
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.kafka.Connection.prototype">module kafka.Connection.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Connection.prototype._bufferPacket">
            function <span class="apidocSignatureSpan">kafka.Connection.prototype.</span>_bufferPacket
            <span class="apidocSignatureSpan">(packet)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Connection.prototype.close">
            function <span class="apidocSignatureSpan">kafka.Connection.prototype.</span>close
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Connection.prototype.connect">
            function <span class="apidocSignatureSpan">kafka.Connection.prototype.</span>connect
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Connection.prototype.constructor">
            function <span class="apidocSignatureSpan">kafka.Connection.prototype.</span>constructor
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Connection.prototype.init">
            function <span class="apidocSignatureSpan">kafka.Connection.prototype.</span>init
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.kafka.Consumer">module kafka.Consumer</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Consumer.Consumer">
            function <span class="apidocSignatureSpan">kafka.</span>Consumer
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.kafka.Consumer.prototype">module kafka.Consumer.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Consumer.prototype._pollForMessages">
            function <span class="apidocSignatureSpan">kafka.Consumer.prototype.</span>_pollForMessages
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Consumer.prototype._processLast">
            function <span class="apidocSignatureSpan">kafka.Consumer.prototype.</span>_processLast
            <span class="apidocSignatureSpan">(topic, offset)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Consumer.prototype._schedulePoll">
            function <span class="apidocSignatureSpan">kafka.Consumer.prototype.</span>_schedulePoll
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Consumer.prototype._unschedulePoll">
            function <span class="apidocSignatureSpan">kafka.Consumer.prototype.</span>_unschedulePoll
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Consumer.prototype.close">
            function <span class="apidocSignatureSpan">kafka.Consumer.prototype.</span>close
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Consumer.prototype.constructor">
            function <span class="apidocSignatureSpan">kafka.Consumer.prototype.</span>constructor
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Consumer.prototype.init">
            function <span class="apidocSignatureSpan">kafka.Consumer.prototype.</span>init
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Consumer.prototype.subscribeTopic">
            function <span class="apidocSignatureSpan">kafka.Consumer.prototype.</span>subscribeTopic
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Consumer.prototype.unsubscribeTopic">
            function <span class="apidocSignatureSpan">kafka.Consumer.prototype.</span>unsubscribeTopic
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.kafka.Consumer.prototype._pollForMessages">module kafka.Consumer.prototype._pollForMessages</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Consumer.prototype._pollForMessages._pollForMessages">
            function <span class="apidocSignatureSpan">kafka.Consumer.prototype.</span>_pollForMessages
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.kafka.Consumer.prototype._processLast">module kafka.Consumer.prototype._processLast</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Consumer.prototype._processLast._processLast">
            function <span class="apidocSignatureSpan">kafka.Consumer.prototype.</span>_processLast
            <span class="apidocSignatureSpan">(topic, offset)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.kafka.Consumer.prototype._schedulePoll">module kafka.Consumer.prototype._schedulePoll</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Consumer.prototype._schedulePoll._schedulePoll">
            function <span class="apidocSignatureSpan">kafka.Consumer.prototype.</span>_schedulePoll
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.kafka.Consumer.prototype._unschedulePoll">module kafka.Consumer.prototype._unschedulePoll</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Consumer.prototype._unschedulePoll._unschedulePoll">
            function <span class="apidocSignatureSpan">kafka.Consumer.prototype.</span>_unschedulePoll
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.kafka.Consumer.prototype.close">module kafka.Consumer.prototype.close</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Consumer.prototype.close.close">
            function <span class="apidocSignatureSpan">kafka.Consumer.prototype.</span>close
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.kafka.Consumer.prototype.init">module kafka.Consumer.prototype.init</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Consumer.prototype.init.init">
            function <span class="apidocSignatureSpan">kafka.Consumer.prototype.</span>init
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.kafka.Consumer.prototype.subscribeTopic">module kafka.Consumer.prototype.subscribeTopic</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Consumer.prototype.subscribeTopic.subscribeTopic">
            function <span class="apidocSignatureSpan">kafka.Consumer.prototype.</span>subscribeTopic
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.kafka.Consumer.prototype.unsubscribeTopic">module kafka.Consumer.prototype.unsubscribeTopic</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Consumer.prototype.unsubscribeTopic.unsubscribeTopic">
            function <span class="apidocSignatureSpan">kafka.Consumer.prototype.</span>unsubscribeTopic
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.kafka.Producer">module kafka.Producer</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Producer.Producer">
            function <span class="apidocSignatureSpan">kafka.</span>Producer
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.kafka.Producer.prototype">module kafka.Producer.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Producer.prototype._encodeMessage">
            function <span class="apidocSignatureSpan">kafka.Producer.prototype.</span>_encodeMessage
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Producer.prototype._encodeRequest">
            function <span class="apidocSignatureSpan">kafka.Producer.prototype.</span>_encodeRequest
            <span class="apidocSignatureSpan">(topic, partition, messages)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Producer.prototype.constructor">
            function <span class="apidocSignatureSpan">kafka.Producer.prototype.</span>constructor
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Producer.prototype.init">
            function <span class="apidocSignatureSpan">kafka.Producer.prototype.</span>init
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Producer.prototype.send">
            function <span class="apidocSignatureSpan">kafka.Producer.prototype.</span>send
            <span class="apidocSignatureSpan">(messages, topic, partition)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">kafka.Producer.prototype.</span>_magicValue</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">kafka.Producer.prototype.</span>_requestType</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.kafka.Producer.prototype._encodeMessage">module kafka.Producer.prototype._encodeMessage</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Producer.prototype._encodeMessage._encodeMessage">
            function <span class="apidocSignatureSpan">kafka.Producer.prototype.</span>_encodeMessage
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.kafka.Producer.prototype._encodeRequest">module kafka.Producer.prototype._encodeRequest</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Producer.prototype._encodeRequest._encodeRequest">
            function <span class="apidocSignatureSpan">kafka.Producer.prototype.</span>_encodeRequest
            <span class="apidocSignatureSpan">(topic, partition, messages)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.kafka.Producer.prototype.init">module kafka.Producer.prototype.init</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Producer.prototype.init.init">
            function <span class="apidocSignatureSpan">kafka.Producer.prototype.</span>init
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.kafka.Producer.prototype.send">module kafka.Producer.prototype.send</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.kafka.Producer.prototype.send.send">
            function <span class="apidocSignatureSpan">kafka.Producer.prototype.</span>send
            <span class="apidocSignatureSpan">(messages, topic, partition)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.kafka" id="apidoc.module.kafka">module kafka</a></h1>


    <h2>
        <a href="#apidoc.element.kafka.Client" id="apidoc.element.kafka.Client">
        function <span class="apidocSignatureSpan">kafka.</span>Client
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Client = function () {
		if(this.init) { this.init.apply(this, arguments) }
		for (var i=0, mixin; mixin = mixins[i]; i++) {
			if (mixin.init) { mixin.init.apply(this) }
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Client.prototype._encodeFetchRequest" id="apidoc.element.kafka.Client.prototype._encodeFetchRequest">
        function <span class="apidocSignatureSpan">kafka.</span>Client.prototype._encodeFetchRequest
        <span class="apidocSignatureSpan">(t)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Client.prototype._encodeFetchRequest = function (t) {
		var request = std.pack(&#x27;n&#x27;, requestTypes.FETCH)
			+ std.pack(&#x27;n&#x27;, t.name.length) + t.name
			+ std.pack(&#x27;N&#x27;, t.partition)
			+ std.pack(&#x27;N2&#x27;, t.offset &#x26; 0xffff0000 &#x3e;&#x3e; 32, t.offset &#x26; 0x0000ffff)
			+ std.pack(&#x27;N&#x27;, this._buffer.length)

		var requestSize = 2 + 2 + t.name.length + 4 + 8 + 4

		return this._bufferPacket(std.pack(&#x27;N&#x27;, requestSize) + request)
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Client.prototype._encodeOffsetsRequest" id="apidoc.element.kafka.Client.prototype._encodeOffsetsRequest">
        function <span class="apidocSignatureSpan">kafka.</span>Client.prototype._encodeOffsetsRequest
        <span class="apidocSignatureSpan">(t)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Client.prototype._encodeOffsetsRequest = function (t) {
		var time = new Date().getTime() / MS_TO_S
		var request = std.pack(&#x27;n&#x27;, requestTypes.OFFSETS)
			+ std.pack(&#x27;n&#x27;, t.name.length) + t.name
			+ std.pack(&#x27;N&#x27;, t.partition)
			+ std.pack(&#x27;N2&#x27;, time &#x26; 0xffff0000 &#x3e;&#x3e; 32, time &#x26; 0x0000ffff)
			+ std.pack(&#x27;N&#x27;, t.offsets)
	
		var requestSize = 2 + 2 + t.name.length + 4 + 8 + 4
		return this._bufferPacket(std.pack(&#x27;N&#x27;, requestSize) + request)
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Client.prototype._last" id="apidoc.element.kafka.Client.prototype._last">
        function <span class="apidocSignatureSpan">kafka.</span>Client.prototype._last
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Client.prototype._last = function () {
		var last = this._requests.shift()
		this.emit(last.last, last.name, last.offset)
		this._state = states.HEADER_LEN_0

	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Client.prototype._onConnect" id="apidoc.element.kafka.Client.prototype._onConnect">
        function <span class="apidocSignatureSpan">kafka.</span>Client.prototype._onConnect
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Client.prototype._onConnect = function () {
		this._connected = true
		this._connection.on(&#x27;data&#x27;, std.bind(this, &#x27;_onData&#x27;))
		for (i in this._requests) this._writeRequest(this._requests[i])
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Client.prototype._onData" id="apidoc.element.kafka.Client.prototype._onData">
        function <span class="apidocSignatureSpan">kafka.</span>Client.prototype._onData
        <span class="apidocSignatureSpan">(buf)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Client.prototype._onData = function (buf) {
<span class="apidocCodeCommentSpan">/**
 * the following tests buffer sizes smaller than what normally
 * comes off the socket.  It breaks the normal boundaries and helps
 * ensure the parsing code is robust
 *
		var buffer = new Buffer(buf.length - 2)
		buf.copy(buffer, 0, 0, buf.length - 2)
		this._processData(buffer)
				
		buffer = new Buffer(2)
		buf.copy(buffer, 0, buf.length - 2, buf.length)
		this._processData(buffer)
	}
	
	this._processData = function (buf) {
*/
</span>		var index = 0		
		while (index != buf.length) {
			var bytes = 1
			var next = this._state + 1
			switch (this._state) {					
				case states.HEADER_LEN_0:
					this._totalLen = buf[index] &#x3c;&#x3c; 24
				    break
				
				case states.HEADER_LEN_1:				
				    this._totalLen += buf[index] &#x3c;&#x3c; 16
				    break
					
				case states.HEADER_LEN_2:				
				    this._totalLen += buf[index] &#x3c;&#x3c; 8
				    break

				case states.HEADER_LEN_3:		
				    this._totalLen += buf[index]
				    break
				
				case states.HEADER_EC_0:
					this._error = buf[index] &#x3c;&#x3c; 8
					this._totalLen--
				    break
				
				case states.HEADER_EC_1:
					this._error += buf[index]
					this._toRead = this._totalLen
					next = this._requests[0].next
					this._totalLen--
					if (this._error != error.NoError) this.emit(&#x27;error&#x27;, this._error, error[this._error])
				    break
				
				case states.RESPONSE_MSG_0:
				    this._msgLen = buf[index] &#x3c;&#x3c; 24
					this._requests[0].offset++
				    this._payloadLen = 0
				    break

				case states.RESPONSE_MSG_1:				
			    	this._msgLen += buf[index] &#x3c;&#x3c; 16
					this._requests[0].offset++
				    break

				case states.RESPONSE_MSG_2:				
			    	this._msgLen += buf[index] &#x3c;&#x3c; 8
					this._requests[0].offset++
				    break

				case states.RESPONSE_MSG_3:				
			    	this._msgLen += buf[index]
					this._requests[0].offset++
				    break
				
				case states.RESPONSE_MAGIC:	
			    	this._magic = buf[index]
					this._requests[0].offset++
			        this._msgLen--
				    break

				case states.RESPONSE_CHKSUM_0:
			    	this._chksum = buf[index] &#x3c;&#x3c; 24
					this._requests[0].offset++
		        	this._msgLen--
				    break

				case states.RESPONSE_CHKSUM_1:				
				    this._chksum += buf[index] &#x3c;&#x3c; 16
					this._requests[0].offset++
					this._msgLen--
				    break

				case states.RESPONSE_CHKSUM_2:				
		        	this._chksum += buf[index] &#x3c;&#x3c; 8
					this._requests[0].offset++
				    this._msgLen--
				    break

				case states.RESPONSE_CHKSUM_3:				
		        	this._chksum += buf[index]
					this._requests[0].offset++
				    this._msgLen--
				    break
				
				case states.RESPONSE_MSG:
					next = states.RESPONSE_MSG
					
					// try to avoid a memcpy if possible
					var payload = null
					if (this._payloadLen == 0 &#x26;&#x26; buf.length - index &#x3e;= this._msgLen) {
						payload = buf.toString(&#x27;utf8&#x27;, index, index + this._msgLen)
						bytes = this._msgLen
					} else {
						var end = index + this._msgLen - this._payloadLen
						if (end &#x3e; buf.length) end = buf.length
						buf.copy(this._buffer, this._payloadLen, index, end)
						this._payloadLen += end - index
						bytes = end - index
						if (this._payloadLen == this._msgLen) {														
							payload = this._buffer.toString(&#x27;utf8&#x27;, 0, this._payloadLen)
						}
					}
					if (payload != null) {
						this._requests[0].offset += payload.length
						next = states.RESPONSE_MSG_0
						this.emit(&#x27;message&#x27;, this._requests[0].name, payload, this._requests[0].offset)
					}
					break
					
				case states.OFFSET_LEN_0:
					this._msgLen = buf[index] &#x3c;&#x3c; 24
					break
					
				case states.OFFSET_LEN_1:
					this._msgLen += buf[index] &#x3c;&#x3c; 16
					break
				
				case states.OFFSET_LEN_2:
					this._msgLen += buf[index] &#x3c;&#x3c; 8
					break
					
				case states.OFFSET_LEN_3:
					this._msgLen += buf[index]
					break
				
				case states.OFFSET_OFFSETS_0:
					this._requests[0].offset = buf[index] &#x3c;&#x3c; 56
					break
				
				case states.OFFSET_OFFSETS_1:
					this._requests[0].offset += buf[index] &#x3c;&#x3c; 48
					break
					
				case states.OFFSET_OFFSETS_2:
					this._requests[0].offset += buf[index] &#x3c;&#x3c; 40 ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Client.prototype._pushRequest" id="apidoc.element.kafka.Client.prototype._pushRequest">
        function <span class="apidocSignatureSpan">kafka.</span>Client.prototype._pushRequest
        <span class="apidocSignatureSpan">(request)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Client.prototype._pushRequest = function (request) {
		this._requests.push(request)
		this._writeRequest(request)		
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Client.prototype._writeRequest" id="apidoc.element.kafka.Client.prototype._writeRequest">
        function <span class="apidocSignatureSpan">kafka.</span>Client.prototype._writeRequest
        <span class="apidocSignatureSpan">(request)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Client.prototype._writeRequest = function (request) {
		if (this._connected) this._connection.write(request.encode(request))
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Client.prototype.connect" id="apidoc.element.kafka.Client.prototype.connect">
        function <span class="apidocSignatureSpan">kafka.</span>Client.prototype.connect
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Client.prototype.connect = function () {
		supr(this, &#x27;connect&#x27;, arguments)
		this._connection.on(&#x27;connect&#x27;, std.bind(this, &#x27;_onConnect&#x27;))
		return this
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Client.prototype.fetchOffsets" id="apidoc.element.kafka.Client.prototype.fetchOffsets">
        function <span class="apidocSignatureSpan">kafka.</span>Client.prototype.fetchOffsets
        <span class="apidocSignatureSpan">(args)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Client.prototype.fetchOffsets = function (args) {
		var request = std.extend(args.name == undefined ? { name: args } : args, offset_defaults)
		this._pushRequest(request)
		return this
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Client.prototype.fetchTopic" id="apidoc.element.kafka.Client.prototype.fetchTopic">
        function <span class="apidocSignatureSpan">kafka.</span>Client.prototype.fetchTopic
        <span class="apidocSignatureSpan">(args)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Client.prototype.fetchTopic = function (args) {
		var request = std.extend(args.name == undefined ? { name: args } : args, fetch_defaults)
		this._pushRequest(request)
		return this
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Client.prototype.init" id="apidoc.element.kafka.Client.prototype.init">
        function <span class="apidocSignatureSpan">kafka.</span>Client.prototype.init
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Client.prototype.init = function (opts) {
		supr(this, &#x27;init&#x27;, arguments)
		opts = std.extend(opts, defaults)
		this._buffer = new Buffer(opts.maxSize)		
		this._toRead = 0
		this._requests = []
		this._connected = false
		this._state = states.HEADER_LEN_0
		fetch_defaults.encode = fetch_defaults.encode.bind(this)
		offset_defaults.encode = offset_defaults.encode.bind(this)
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Connection" id="apidoc.element.kafka.Connection">
        function <span class="apidocSignatureSpan">kafka.</span>Connection
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Connection = function () {
		if(this.init) { this.init.apply(this, arguments) }
		for (var i=0, mixin; mixin = mixins[i]; i++) {
			if (mixin.init) { mixin.init.apply(this) }
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Consumer" id="apidoc.element.kafka.Consumer">
        function <span class="apidocSignatureSpan">kafka.</span>Consumer
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Consumer = function () {
		if(this.init) { this.init.apply(this, arguments) }
		for (var i=0, mixin; mixin = mixins[i]; i++) {
			if (mixin.init) { mixin.init.apply(this) }
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

 2 Start zookeeper, kafka server, and a consumer (see http://sna-projects.com/kafka/quickstart.php)

 3 Publish and consume some messages!

	var kafka = require(&#x27;kafka&#x27;)
	
	new kafka.<span class="apidocCodeKeywordSpan">Consumer</span>().connect().subscribeTopic(&#x27;test&#x27;).on(&#x27;message&#x27
;, function(topic, message) {
		console.log(&#x22;Consumed message:&#x22;, message)
	})
	
	var producer = new kafka.Producer().connect().on(&#x27;connect&#x27;, function() {
		producer.send(&#x22;hey!&#x22;)
		producer.close()
	})
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Consumer.prototype._pollForMessages" id="apidoc.element.kafka.Consumer.prototype._pollForMessages">
        function <span class="apidocSignatureSpan">kafka.</span>Consumer.prototype._pollForMessages
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Consumer.prototype._pollForMessages = function () {
		if (this._outstanding &#x3e; 0 || !this._shouldPoll) return
		this._shouldPoll = false

		for (i in this._topics) {
			this._outstanding++
			this.fetchTopic(this._topics[i])
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Consumer.prototype._processLast" id="apidoc.element.kafka.Consumer.prototype._processLast">
        function <span class="apidocSignatureSpan">kafka.</span>Consumer.prototype._processLast
        <span class="apidocSignatureSpan">(topic, offset)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Consumer.prototype._processLast = function (topic, offset) {
		for (i in this._topics) if (this._topics[i].name == topic) {
			this._topics[i].offset = offset
			this._outstanding--
			this._pollForMessages()
			break
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Consumer.prototype._schedulePoll" id="apidoc.element.kafka.Consumer.prototype._schedulePoll">
        function <span class="apidocSignatureSpan">kafka.</span>Consumer.prototype._schedulePoll
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Consumer.prototype._schedulePoll = function () {
		this._timeoutID = setTimeout(std.bind(this, &#x27;_schedulePoll&#x27;), this._pollInterval)
		this._shouldPoll = true
		this._pollForMessages()
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Consumer.prototype._unschedulePoll" id="apidoc.element.kafka.Consumer.prototype._unschedulePoll">
        function <span class="apidocSignatureSpan">kafka.</span>Consumer.prototype._unschedulePoll
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Consumer.prototype._unschedulePoll = function () {
		clearTimeout(this._timeoutID)
		this._shouldPoll = false
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Consumer.prototype.close" id="apidoc.element.kafka.Consumer.prototype.close">
        function <span class="apidocSignatureSpan">kafka.</span>Consumer.prototype.close
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Consumer.prototype.close = function () {
		supr(this, &#x27;close&#x27;)
		this._unschedulePoll()
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Consumer.prototype.init" id="apidoc.element.kafka.Consumer.prototype.init">
        function <span class="apidocSignatureSpan">kafka.</span>Consumer.prototype.init
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Consumer.prototype.init = function (opts) {
		supr(this, &#x27;init&#x27;, arguments)
		opts = std.extend(opts, defaults)
		this._pollInterval = opts.pollInterval
		this._topics = []
		this._outstanding = 0
		this._shouldPoll = false
		
		this.on(&#x27;lastmessage&#x27;, std.bind(this, &#x27;_processLast&#x27;))
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Consumer.prototype.subscribeTopic" id="apidoc.element.kafka.Consumer.prototype.subscribeTopic">
        function <span class="apidocSignatureSpan">kafka.</span>Consumer.prototype.subscribeTopic
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Consumer.prototype.subscribeTopic = function (opts) {
		var topic = opts.name == undefined ? { name:opts, offset:0, partition: 0 } : std.extend(opts, subscription_defaults)
		this._topics.push(topic)
		if (this._topics.length == 1) this._schedulePoll()
		return this
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Consumer.prototype.unsubscribeTopic" id="apidoc.element.kafka.Consumer.prototype.unsubscribeTopic">
        function <span class="apidocSignatureSpan">kafka.</span>Consumer.prototype.unsubscribeTopic
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Consumer.prototype.unsubscribeTopic = function (name) {
		this._topics = this._topics.filter(function(x) { return x.name != name })
		if (this._topics.length == 0) this._unschedulePoll()
		return this
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Producer" id="apidoc.element.kafka.Producer">
        function <span class="apidocSignatureSpan">kafka.</span>Producer
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Producer = function () {
		if(this.init) { this.init.apply(this, arguments) }
		for (var i=0, mixin; mixin = mixins[i]; i++) {
			if (mixin.init) { mixin.init.apply(this) }
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

	var kafka = require(&#x27;kafka&#x27;)
	
	new kafka.Consumer().connect().subscribeTopic(&#x27;test&#x27;).on(&#x27;message&#x27;, function(topic, message) {
		console.log(&#x22;Consumed message:&#x22;, message)
	})
	
	var producer = new kafka.<span class="apidocCodeKeywordSpan">Producer</span>().connect().on(&#x27;connect&#x27;, function() {
		producer.send(&#x22;hey!&#x22;)
		producer.close()
	})

API
---
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Producer.prototype._encodeMessage" id="apidoc.element.kafka.Producer.prototype._encodeMessage">
        function <span class="apidocSignatureSpan">kafka.</span>Producer.prototype._encodeMessage
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Producer.prototype._encodeMessage = function (message) {
		return std.pack(&#x27;CN&#x27;, this._magicValue, std.crc32(message)) + message
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Producer.prototype._encodeRequest" id="apidoc.element.kafka.Producer.prototype._encodeRequest">
        function <span class="apidocSignatureSpan">kafka.</span>Producer.prototype._encodeRequest
        <span class="apidocSignatureSpan">(topic, partition, messages)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Producer.prototype._encodeRequest = function (topic, partition, messages) {
		var encodedMessages = &#x27;&#x27;
		for (var i=0; i&#x3c;messages.length; i++) {
			var encodedMessage = this._encodeMessage(messages[i])
			encodedMessages += std.pack(&#x27;N&#x27;, encodedMessage.length) + encodedMessage
		}

		var request = std.pack(&#x27;n&#x27;, this._requestType)
			+ std.pack(&#x27;n&#x27;, topic.length) + topic
			+ std.pack(&#x27;N&#x27;, partition)
			+ std.pack(&#x27;N&#x27;, encodedMessages.length) + encodedMessages
		
		return this._bufferPacket(std.pack(&#x27;N&#x27;, request.length) + request)
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Producer.prototype.init" id="apidoc.element.kafka.Producer.prototype.init">
        function <span class="apidocSignatureSpan">kafka.</span>Producer.prototype.init
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Producer.prototype.init = function (opts) {
		supr(this, &#x27;init&#x27;, arguments)
		opts = std.extend(opts, defaults)
		this._partition = opts.partition
		this._topic = opts.topic
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Producer.prototype.send" id="apidoc.element.kafka.Producer.prototype.send">
        function <span class="apidocSignatureSpan">kafka.</span>Producer.prototype.send
        <span class="apidocSignatureSpan">(messages, topic, partition)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Producer.prototype.send = function (messages, topic, partition) {
		if (typeof topic == &#x27;undefined&#x27;) { topic = this._topic }
		if (typeof partition == &#x27;undefined&#x27;) { partition = this._partition }
		if (!(messages instanceof Array)) { messages = [messages] }
		this._connection.write(this._encodeRequest(topic, partition, messages))
		return this
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>












</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.kafka.Client" id="apidoc.module.kafka.Client">module kafka.Client</a></h1>


    <h2>
        <a href="#apidoc.element.kafka.Client.Client" id="apidoc.element.kafka.Client.Client">
        function <span class="apidocSignatureSpan">kafka.</span>Client
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Client = function () {
		if(this.init) { this.init.apply(this, arguments) }
		for (var i=0, mixin; mixin = mixins[i]; i++) {
			if (mixin.init) { mixin.init.apply(this) }
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.kafka.Client.prototype" id="apidoc.module.kafka.Client.prototype">module kafka.Client.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.kafka.Client.prototype._encodeFetchRequest" id="apidoc.element.kafka.Client.prototype._encodeFetchRequest">
        function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>_encodeFetchRequest
        <span class="apidocSignatureSpan">(t)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_encodeFetchRequest = function (t) {
		var request = std.pack(&#x27;n&#x27;, requestTypes.FETCH)
			+ std.pack(&#x27;n&#x27;, t.name.length) + t.name
			+ std.pack(&#x27;N&#x27;, t.partition)
			+ std.pack(&#x27;N2&#x27;, t.offset &#x26; 0xffff0000 &#x3e;&#x3e; 32, t.offset &#x26; 0x0000ffff)
			+ std.pack(&#x27;N&#x27;, this._buffer.length)

		var requestSize = 2 + 2 + t.name.length + 4 + 8 + 4

		return this._bufferPacket(std.pack(&#x27;N&#x27;, requestSize) + request)
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Client.prototype._encodeOffsetsRequest" id="apidoc.element.kafka.Client.prototype._encodeOffsetsRequest">
        function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>_encodeOffsetsRequest
        <span class="apidocSignatureSpan">(t)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_encodeOffsetsRequest = function (t) {
		var time = new Date().getTime() / MS_TO_S
		var request = std.pack(&#x27;n&#x27;, requestTypes.OFFSETS)
			+ std.pack(&#x27;n&#x27;, t.name.length) + t.name
			+ std.pack(&#x27;N&#x27;, t.partition)
			+ std.pack(&#x27;N2&#x27;, time &#x26; 0xffff0000 &#x3e;&#x3e; 32, time &#x26; 0x0000ffff)
			+ std.pack(&#x27;N&#x27;, t.offsets)
	
		var requestSize = 2 + 2 + t.name.length + 4 + 8 + 4
		return this._bufferPacket(std.pack(&#x27;N&#x27;, requestSize) + request)
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Client.prototype._last" id="apidoc.element.kafka.Client.prototype._last">
        function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>_last
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_last = function () {
		var last = this._requests.shift()
		this.emit(last.last, last.name, last.offset)
		this._state = states.HEADER_LEN_0

	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Client.prototype._onConnect" id="apidoc.element.kafka.Client.prototype._onConnect">
        function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>_onConnect
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_onConnect = function () {
		this._connected = true
		this._connection.on(&#x27;data&#x27;, std.bind(this, &#x27;_onData&#x27;))
		for (i in this._requests) this._writeRequest(this._requests[i])
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Client.prototype._onData" id="apidoc.element.kafka.Client.prototype._onData">
        function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>_onData
        <span class="apidocSignatureSpan">(buf)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_onData = function (buf) {
<span class="apidocCodeCommentSpan">/**
 * the following tests buffer sizes smaller than what normally
 * comes off the socket.  It breaks the normal boundaries and helps
 * ensure the parsing code is robust
 *
		var buffer = new Buffer(buf.length - 2)
		buf.copy(buffer, 0, 0, buf.length - 2)
		this._processData(buffer)
				
		buffer = new Buffer(2)
		buf.copy(buffer, 0, buf.length - 2, buf.length)
		this._processData(buffer)
	}
	
	this._processData = function (buf) {
*/
</span>		var index = 0		
		while (index != buf.length) {
			var bytes = 1
			var next = this._state + 1
			switch (this._state) {					
				case states.HEADER_LEN_0:
					this._totalLen = buf[index] &#x3c;&#x3c; 24
				    break
				
				case states.HEADER_LEN_1:				
				    this._totalLen += buf[index] &#x3c;&#x3c; 16
				    break
					
				case states.HEADER_LEN_2:				
				    this._totalLen += buf[index] &#x3c;&#x3c; 8
				    break

				case states.HEADER_LEN_3:		
				    this._totalLen += buf[index]
				    break
				
				case states.HEADER_EC_0:
					this._error = buf[index] &#x3c;&#x3c; 8
					this._totalLen--
				    break
				
				case states.HEADER_EC_1:
					this._error += buf[index]
					this._toRead = this._totalLen
					next = this._requests[0].next
					this._totalLen--
					if (this._error != error.NoError) this.emit(&#x27;error&#x27;, this._error, error[this._error])
				    break
				
				case states.RESPONSE_MSG_0:
				    this._msgLen = buf[index] &#x3c;&#x3c; 24
					this._requests[0].offset++
				    this._payloadLen = 0
				    break

				case states.RESPONSE_MSG_1:				
			    	this._msgLen += buf[index] &#x3c;&#x3c; 16
					this._requests[0].offset++
				    break

				case states.RESPONSE_MSG_2:				
			    	this._msgLen += buf[index] &#x3c;&#x3c; 8
					this._requests[0].offset++
				    break

				case states.RESPONSE_MSG_3:				
			    	this._msgLen += buf[index]
					this._requests[0].offset++
				    break
				
				case states.RESPONSE_MAGIC:	
			    	this._magic = buf[index]
					this._requests[0].offset++
			        this._msgLen--
				    break

				case states.RESPONSE_CHKSUM_0:
			    	this._chksum = buf[index] &#x3c;&#x3c; 24
					this._requests[0].offset++
		        	this._msgLen--
				    break

				case states.RESPONSE_CHKSUM_1:				
				    this._chksum += buf[index] &#x3c;&#x3c; 16
					this._requests[0].offset++
					this._msgLen--
				    break

				case states.RESPONSE_CHKSUM_2:				
		        	this._chksum += buf[index] &#x3c;&#x3c; 8
					this._requests[0].offset++
				    this._msgLen--
				    break

				case states.RESPONSE_CHKSUM_3:				
		        	this._chksum += buf[index]
					this._requests[0].offset++
				    this._msgLen--
				    break
				
				case states.RESPONSE_MSG:
					next = states.RESPONSE_MSG
					
					// try to avoid a memcpy if possible
					var payload = null
					if (this._payloadLen == 0 &#x26;&#x26; buf.length - index &#x3e;= this._msgLen) {
						payload = buf.toString(&#x27;utf8&#x27;, index, index + this._msgLen)
						bytes = this._msgLen
					} else {
						var end = index + this._msgLen - this._payloadLen
						if (end &#x3e; buf.length) end = buf.length
						buf.copy(this._buffer, this._payloadLen, index, end)
						this._payloadLen += end - index
						bytes = end - index
						if (this._payloadLen == this._msgLen) {														
							payload = this._buffer.toString(&#x27;utf8&#x27;, 0, this._payloadLen)
						}
					}
					if (payload != null) {
						this._requests[0].offset += payload.length
						next = states.RESPONSE_MSG_0
						this.emit(&#x27;message&#x27;, this._requests[0].name, payload, this._requests[0].offset)
					}
					break
					
				case states.OFFSET_LEN_0:
					this._msgLen = buf[index] &#x3c;&#x3c; 24
					break
					
				case states.OFFSET_LEN_1:
					this._msgLen += buf[index] &#x3c;&#x3c; 16
					break
				
				case states.OFFSET_LEN_2:
					this._msgLen += buf[index] &#x3c;&#x3c; 8
					break
					
				case states.OFFSET_LEN_3:
					this._msgLen += buf[index]
					break
				
				case states.OFFSET_OFFSETS_0:
					this._requests[0].offset = buf[index] &#x3c;&#x3c; 56
					break
				
				case states.OFFSET_OFFSETS_1:
					this._requests[0].offset += buf[index] &#x3c;&#x3c; 48
					break
					
				case states.OFFSET_OFFSETS_2:
					this._requests[0].offset += buf[index] &#x3c;&#x3c; 40 ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Client.prototype._pushRequest" id="apidoc.element.kafka.Client.prototype._pushRequest">
        function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>_pushRequest
        <span class="apidocSignatureSpan">(request)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_pushRequest = function (request) {
		this._requests.push(request)
		this._writeRequest(request)		
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Client.prototype._writeRequest" id="apidoc.element.kafka.Client.prototype._writeRequest">
        function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>_writeRequest
        <span class="apidocSignatureSpan">(request)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_writeRequest = function (request) {
		if (this._connected) this._connection.write(request.encode(request))
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Client.prototype.connect" id="apidoc.element.kafka.Client.prototype.connect">
        function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>connect
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connect = function () {
		supr(this, &#x27;connect&#x27;, arguments)
		this._connection.on(&#x27;connect&#x27;, std.bind(this, &#x27;_onConnect&#x27;))
		return this
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

 2 Start zookeeper, kafka server, and a consumer (see http://sna-projects.com/kafka/quickstart.php)

 3 Publish and consume some messages!

	var kafka = require(&#x27;kafka&#x27;)
	
	new kafka.Consumer().<span class="apidocCodeKeywordSpan">connect</span>().subscribeTopic(&#x27;test&#x27;).on(&#x27;message&#x27
;, function(topic, message) {
		console.log(&#x22;Consumed message:&#x22;, message)
	})
	
	var producer = new kafka.Producer().connect().on(&#x27;connect&#x27;, function() {
		producer.send(&#x22;hey!&#x22;)
		producer.close()
	})
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Client.prototype.constructor" id="apidoc.element.kafka.Client.prototype.constructor">
        function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>constructor
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">constructor = function () {
		if(this.init) { this.init.apply(this, arguments) }
		for (var i=0, mixin; mixin = mixins[i]; i++) {
			if (mixin.init) { mixin.init.apply(this) }
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Client.prototype.fetchOffsets" id="apidoc.element.kafka.Client.prototype.fetchOffsets">
        function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>fetchOffsets
        <span class="apidocSignatureSpan">(args)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fetchOffsets = function (args) {
		var request = std.extend(args.name == undefined ? { name: args } : args, offset_defaults)
		this._pushRequest(request)
		return this
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Client.prototype.fetchTopic" id="apidoc.element.kafka.Client.prototype.fetchTopic">
        function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>fetchTopic
        <span class="apidocSignatureSpan">(args)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fetchTopic = function (args) {
		var request = std.extend(args.name == undefined ? { name: args } : args, fetch_defaults)
		this._pushRequest(request)
		return this
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Client.prototype.init" id="apidoc.element.kafka.Client.prototype.init">
        function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>init
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">init = function (opts) {
		supr(this, &#x27;init&#x27;, arguments)
		opts = std.extend(opts, defaults)
		this._buffer = new Buffer(opts.maxSize)		
		this._toRead = 0
		this._requests = []
		this._connected = false
		this._state = states.HEADER_LEN_0
		fetch_defaults.encode = fetch_defaults.encode.bind(this)
		offset_defaults.encode = offset_defaults.encode.bind(this)
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.kafka.Client.prototype._encodeFetchRequest" id="apidoc.module.kafka.Client.prototype._encodeFetchRequest">module kafka.Client.prototype._encodeFetchRequest</a></h1>


    <h2>
        <a href="#apidoc.element.kafka.Client.prototype._encodeFetchRequest._encodeFetchRequest" id="apidoc.element.kafka.Client.prototype._encodeFetchRequest._encodeFetchRequest">
        function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>_encodeFetchRequest
        <span class="apidocSignatureSpan">(t)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_encodeFetchRequest = function (t) {
		var request = std.pack(&#x27;n&#x27;, requestTypes.FETCH)
			+ std.pack(&#x27;n&#x27;, t.name.length) + t.name
			+ std.pack(&#x27;N&#x27;, t.partition)
			+ std.pack(&#x27;N2&#x27;, t.offset &#x26; 0xffff0000 &#x3e;&#x3e; 32, t.offset &#x26; 0x0000ffff)
			+ std.pack(&#x27;N&#x27;, this._buffer.length)

		var requestSize = 2 + 2 + t.name.length + 4 + 8 + 4

		return this._bufferPacket(std.pack(&#x27;N&#x27;, requestSize) + request)
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.kafka.Client.prototype._encodeOffsetsRequest" id="apidoc.module.kafka.Client.prototype._encodeOffsetsRequest">module kafka.Client.prototype._encodeOffsetsRequest</a></h1>


    <h2>
        <a href="#apidoc.element.kafka.Client.prototype._encodeOffsetsRequest._encodeOffsetsRequest" id="apidoc.element.kafka.Client.prototype._encodeOffsetsRequest._encodeOffsetsRequest">
        function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>_encodeOffsetsRequest
        <span class="apidocSignatureSpan">(t)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_encodeOffsetsRequest = function (t) {
		var time = new Date().getTime() / MS_TO_S
		var request = std.pack(&#x27;n&#x27;, requestTypes.OFFSETS)
			+ std.pack(&#x27;n&#x27;, t.name.length) + t.name
			+ std.pack(&#x27;N&#x27;, t.partition)
			+ std.pack(&#x27;N2&#x27;, time &#x26; 0xffff0000 &#x3e;&#x3e; 32, time &#x26; 0x0000ffff)
			+ std.pack(&#x27;N&#x27;, t.offsets)
	
		var requestSize = 2 + 2 + t.name.length + 4 + 8 + 4
		return this._bufferPacket(std.pack(&#x27;N&#x27;, requestSize) + request)
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.kafka.Client.prototype._last" id="apidoc.module.kafka.Client.prototype._last">module kafka.Client.prototype._last</a></h1>


    <h2>
        <a href="#apidoc.element.kafka.Client.prototype._last._last" id="apidoc.element.kafka.Client.prototype._last._last">
        function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>_last
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_last = function () {
		var last = this._requests.shift()
		this.emit(last.last, last.name, last.offset)
		this._state = states.HEADER_LEN_0

	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.kafka.Client.prototype._onConnect" id="apidoc.module.kafka.Client.prototype._onConnect">module kafka.Client.prototype._onConnect</a></h1>


    <h2>
        <a href="#apidoc.element.kafka.Client.prototype._onConnect._onConnect" id="apidoc.element.kafka.Client.prototype._onConnect._onConnect">
        function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>_onConnect
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_onConnect = function () {
		this._connected = true
		this._connection.on(&#x27;data&#x27;, std.bind(this, &#x27;_onData&#x27;))
		for (i in this._requests) this._writeRequest(this._requests[i])
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.kafka.Client.prototype._onData" id="apidoc.module.kafka.Client.prototype._onData">module kafka.Client.prototype._onData</a></h1>


    <h2>
        <a href="#apidoc.element.kafka.Client.prototype._onData._onData" id="apidoc.element.kafka.Client.prototype._onData._onData">
        function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>_onData
        <span class="apidocSignatureSpan">(buf)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_onData = function (buf) {
<span class="apidocCodeCommentSpan">/**
 * the following tests buffer sizes smaller than what normally
 * comes off the socket.  It breaks the normal boundaries and helps
 * ensure the parsing code is robust
 *
		var buffer = new Buffer(buf.length - 2)
		buf.copy(buffer, 0, 0, buf.length - 2)
		this._processData(buffer)
				
		buffer = new Buffer(2)
		buf.copy(buffer, 0, buf.length - 2, buf.length)
		this._processData(buffer)
	}
	
	this._processData = function (buf) {
*/
</span>		var index = 0		
		while (index != buf.length) {
			var bytes = 1
			var next = this._state + 1
			switch (this._state) {					
				case states.HEADER_LEN_0:
					this._totalLen = buf[index] &#x3c;&#x3c; 24
				    break
				
				case states.HEADER_LEN_1:				
				    this._totalLen += buf[index] &#x3c;&#x3c; 16
				    break
					
				case states.HEADER_LEN_2:				
				    this._totalLen += buf[index] &#x3c;&#x3c; 8
				    break

				case states.HEADER_LEN_3:		
				    this._totalLen += buf[index]
				    break
				
				case states.HEADER_EC_0:
					this._error = buf[index] &#x3c;&#x3c; 8
					this._totalLen--
				    break
				
				case states.HEADER_EC_1:
					this._error += buf[index]
					this._toRead = this._totalLen
					next = this._requests[0].next
					this._totalLen--
					if (this._error != error.NoError) this.emit(&#x27;error&#x27;, this._error, error[this._error])
				    break
				
				case states.RESPONSE_MSG_0:
				    this._msgLen = buf[index] &#x3c;&#x3c; 24
					this._requests[0].offset++
				    this._payloadLen = 0
				    break

				case states.RESPONSE_MSG_1:				
			    	this._msgLen += buf[index] &#x3c;&#x3c; 16
					this._requests[0].offset++
				    break

				case states.RESPONSE_MSG_2:				
			    	this._msgLen += buf[index] &#x3c;&#x3c; 8
					this._requests[0].offset++
				    break

				case states.RESPONSE_MSG_3:				
			    	this._msgLen += buf[index]
					this._requests[0].offset++
				    break
				
				case states.RESPONSE_MAGIC:	
			    	this._magic = buf[index]
					this._requests[0].offset++
			        this._msgLen--
				    break

				case states.RESPONSE_CHKSUM_0:
			    	this._chksum = buf[index] &#x3c;&#x3c; 24
					this._requests[0].offset++
		        	this._msgLen--
				    break

				case states.RESPONSE_CHKSUM_1:				
				    this._chksum += buf[index] &#x3c;&#x3c; 16
					this._requests[0].offset++
					this._msgLen--
				    break

				case states.RESPONSE_CHKSUM_2:				
		        	this._chksum += buf[index] &#x3c;&#x3c; 8
					this._requests[0].offset++
				    this._msgLen--
				    break

				case states.RESPONSE_CHKSUM_3:				
		        	this._chksum += buf[index]
					this._requests[0].offset++
				    this._msgLen--
				    break
				
				case states.RESPONSE_MSG:
					next = states.RESPONSE_MSG
					
					// try to avoid a memcpy if possible
					var payload = null
					if (this._payloadLen == 0 &#x26;&#x26; buf.length - index &#x3e;= this._msgLen) {
						payload = buf.toString(&#x27;utf8&#x27;, index, index + this._msgLen)
						bytes = this._msgLen
					} else {
						var end = index + this._msgLen - this._payloadLen
						if (end &#x3e; buf.length) end = buf.length
						buf.copy(this._buffer, this._payloadLen, index, end)
						this._payloadLen += end - index
						bytes = end - index
						if (this._payloadLen == this._msgLen) {														
							payload = this._buffer.toString(&#x27;utf8&#x27;, 0, this._payloadLen)
						}
					}
					if (payload != null) {
						this._requests[0].offset += payload.length
						next = states.RESPONSE_MSG_0
						this.emit(&#x27;message&#x27;, this._requests[0].name, payload, this._requests[0].offset)
					}
					break
					
				case states.OFFSET_LEN_0:
					this._msgLen = buf[index] &#x3c;&#x3c; 24
					break
					
				case states.OFFSET_LEN_1:
					this._msgLen += buf[index] &#x3c;&#x3c; 16
					break
				
				case states.OFFSET_LEN_2:
					this._msgLen += buf[index] &#x3c;&#x3c; 8
					break
					
				case states.OFFSET_LEN_3:
					this._msgLen += buf[index]
					break
				
				case states.OFFSET_OFFSETS_0:
					this._requests[0].offset = buf[index] &#x3c;&#x3c; 56
					break
				
				case states.OFFSET_OFFSETS_1:
					this._requests[0].offset += buf[index] &#x3c;&#x3c; 48
					break
					
				case states.OFFSET_OFFSETS_2:
					this._requests[0].offset += buf[index] &#x3c;&#x3c; 40 ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.kafka.Client.prototype._pushRequest" id="apidoc.module.kafka.Client.prototype._pushRequest">module kafka.Client.prototype._pushRequest</a></h1>


    <h2>
        <a href="#apidoc.element.kafka.Client.prototype._pushRequest._pushRequest" id="apidoc.element.kafka.Client.prototype._pushRequest._pushRequest">
        function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>_pushRequest
        <span class="apidocSignatureSpan">(request)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_pushRequest = function (request) {
		this._requests.push(request)
		this._writeRequest(request)		
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.kafka.Client.prototype._writeRequest" id="apidoc.module.kafka.Client.prototype._writeRequest">module kafka.Client.prototype._writeRequest</a></h1>


    <h2>
        <a href="#apidoc.element.kafka.Client.prototype._writeRequest._writeRequest" id="apidoc.element.kafka.Client.prototype._writeRequest._writeRequest">
        function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>_writeRequest
        <span class="apidocSignatureSpan">(request)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_writeRequest = function (request) {
		if (this._connected) this._connection.write(request.encode(request))
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.kafka.Client.prototype.connect" id="apidoc.module.kafka.Client.prototype.connect">module kafka.Client.prototype.connect</a></h1>


    <h2>
        <a href="#apidoc.element.kafka.Client.prototype.connect.connect" id="apidoc.element.kafka.Client.prototype.connect.connect">
        function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>connect
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connect = function () {
		supr(this, &#x27;connect&#x27;, arguments)
		this._connection.on(&#x27;connect&#x27;, std.bind(this, &#x27;_onConnect&#x27;))
		return this
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

 2 Start zookeeper, kafka server, and a consumer (see http://sna-projects.com/kafka/quickstart.php)

 3 Publish and consume some messages!

	var kafka = require(&#x27;kafka&#x27;)
	
	new kafka.Consumer().<span class="apidocCodeKeywordSpan">connect</span>().subscribeTopic(&#x27;test&#x27;).on(&#x27;message&#x27
;, function(topic, message) {
		console.log(&#x22;Consumed message:&#x22;, message)
	})
	
	var producer = new kafka.Producer().connect().on(&#x27;connect&#x27;, function() {
		producer.send(&#x22;hey!&#x22;)
		producer.close()
	})
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.kafka.Client.prototype.fetchOffsets" id="apidoc.module.kafka.Client.prototype.fetchOffsets">module kafka.Client.prototype.fetchOffsets</a></h1>


    <h2>
        <a href="#apidoc.element.kafka.Client.prototype.fetchOffsets.fetchOffsets" id="apidoc.element.kafka.Client.prototype.fetchOffsets.fetchOffsets">
        function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>fetchOffsets
        <span class="apidocSignatureSpan">(args)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fetchOffsets = function (args) {
		var request = std.extend(args.name == undefined ? { name: args } : args, offset_defaults)
		this._pushRequest(request)
		return this
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.kafka.Client.prototype.fetchTopic" id="apidoc.module.kafka.Client.prototype.fetchTopic">module kafka.Client.prototype.fetchTopic</a></h1>


    <h2>
        <a href="#apidoc.element.kafka.Client.prototype.fetchTopic.fetchTopic" id="apidoc.element.kafka.Client.prototype.fetchTopic.fetchTopic">
        function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>fetchTopic
        <span class="apidocSignatureSpan">(args)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fetchTopic = function (args) {
		var request = std.extend(args.name == undefined ? { name: args } : args, fetch_defaults)
		this._pushRequest(request)
		return this
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.kafka.Client.prototype.init" id="apidoc.module.kafka.Client.prototype.init">module kafka.Client.prototype.init</a></h1>


    <h2>
        <a href="#apidoc.element.kafka.Client.prototype.init.init" id="apidoc.element.kafka.Client.prototype.init.init">
        function <span class="apidocSignatureSpan">kafka.Client.prototype.</span>init
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">init = function (opts) {
		supr(this, &#x27;init&#x27;, arguments)
		opts = std.extend(opts, defaults)
		this._buffer = new Buffer(opts.maxSize)		
		this._toRead = 0
		this._requests = []
		this._connected = false
		this._state = states.HEADER_LEN_0
		fetch_defaults.encode = fetch_defaults.encode.bind(this)
		offset_defaults.encode = offset_defaults.encode.bind(this)
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.kafka.Connection" id="apidoc.module.kafka.Connection">module kafka.Connection</a></h1>


    <h2>
        <a href="#apidoc.element.kafka.Connection.Connection" id="apidoc.element.kafka.Connection.Connection">
        function <span class="apidocSignatureSpan">kafka.</span>Connection
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Connection = function () {
		if(this.init) { this.init.apply(this, arguments) }
		for (var i=0, mixin; mixin = mixins[i]; i++) {
			if (mixin.init) { mixin.init.apply(this) }
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.kafka.Connection.prototype" id="apidoc.module.kafka.Connection.prototype">module kafka.Connection.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.kafka.Connection.prototype._bufferPacket" id="apidoc.element.kafka.Connection.prototype._bufferPacket">
        function <span class="apidocSignatureSpan">kafka.Connection.prototype.</span>_bufferPacket
        <span class="apidocSignatureSpan">(packet)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_bufferPacket = function (packet) {
		var len = packet.length,
			buffer = new Buffer(len)

		for (var i=0; i&#x3c;len; i++) {
			buffer[i] = packet.charCodeAt(i)
		}

		return buffer
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Connection.prototype.close" id="apidoc.element.kafka.Connection.prototype.close">
        function <span class="apidocSignatureSpan">kafka.Connection.prototype.</span>close
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">close = function () {
		this._connection.end()
		delete this._connection
		return this
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	new kafka.Consumer().connect().subscribeTopic(&#x27;test&#x27;).on(&#x27;message&#x27;, function(topic, message) {
		console.log(&#x22;Consumed message:&#x22;, message)
	})
	
	var producer = new kafka.Producer().connect().on(&#x27;connect&#x27;, function() {
		producer.send(&#x22;hey!&#x22;)
		producer.<span class="apidocCodeKeywordSpan">close</span>()
	})

API
---

`kafka.Consumer`
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Connection.prototype.connect" id="apidoc.element.kafka.Connection.prototype.connect">
        function <span class="apidocSignatureSpan">kafka.Connection.prototype.</span>connect
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connect = function (callback) {
		if (this._connection) { throw new Error(&#x22;connect called twice&#x22;) }
		this._connection = net.createConnection(this._port, this._host)
		this._connection.on(&#x27;connect&#x27;, std.bind(this, &#x27;emit&#x27;, &#x27;connect&#x27;))
		this._connection.on(&#x27;error&#x27;, std.bind(this, &#x27;emit&#x27;, &#x27;error&#x27;))
		if (callback != undefined) this._connection.on(&#x27;connect&#x27;, callback)
		return this
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

 2 Start zookeeper, kafka server, and a consumer (see http://sna-projects.com/kafka/quickstart.php)

 3 Publish and consume some messages!

	var kafka = require(&#x27;kafka&#x27;)
	
	new kafka.Consumer().<span class="apidocCodeKeywordSpan">connect</span>().subscribeTopic(&#x27;test&#x27;).on(&#x27;message&#x27
;, function(topic, message) {
		console.log(&#x22;Consumed message:&#x22;, message)
	})
	
	var producer = new kafka.Producer().connect().on(&#x27;connect&#x27;, function() {
		producer.send(&#x22;hey!&#x22;)
		producer.close()
	})
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Connection.prototype.constructor" id="apidoc.element.kafka.Connection.prototype.constructor">
        function <span class="apidocSignatureSpan">kafka.Connection.prototype.</span>constructor
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">constructor = function () {
		if(this.init) { this.init.apply(this, arguments) }
		for (var i=0, mixin; mixin = mixins[i]; i++) {
			if (mixin.init) { mixin.init.apply(this) }
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Connection.prototype.init" id="apidoc.element.kafka.Connection.prototype.init">
        function <span class="apidocSignatureSpan">kafka.Connection.prototype.</span>init
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">init = function (opts) {
		opts = std.extend(opts, defaults)
		this._host = opts.host
		this._port = opts.port
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.kafka.Consumer" id="apidoc.module.kafka.Consumer">module kafka.Consumer</a></h1>


    <h2>
        <a href="#apidoc.element.kafka.Consumer.Consumer" id="apidoc.element.kafka.Consumer.Consumer">
        function <span class="apidocSignatureSpan">kafka.</span>Consumer
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Consumer = function () {
		if(this.init) { this.init.apply(this, arguments) }
		for (var i=0, mixin; mixin = mixins[i]; i++) {
			if (mixin.init) { mixin.init.apply(this) }
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

 2 Start zookeeper, kafka server, and a consumer (see http://sna-projects.com/kafka/quickstart.php)

 3 Publish and consume some messages!

	var kafka = require(&#x27;kafka&#x27;)
	
	new kafka.<span class="apidocCodeKeywordSpan">Consumer</span>().connect().subscribeTopic(&#x27;test&#x27;).on(&#x27;message&#x27
;, function(topic, message) {
		console.log(&#x22;Consumed message:&#x22;, message)
	})
	
	var producer = new kafka.Producer().connect().on(&#x27;connect&#x27;, function() {
		producer.send(&#x22;hey!&#x22;)
		producer.close()
	})
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.kafka.Consumer.prototype" id="apidoc.module.kafka.Consumer.prototype">module kafka.Consumer.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.kafka.Consumer.prototype._pollForMessages" id="apidoc.element.kafka.Consumer.prototype._pollForMessages">
        function <span class="apidocSignatureSpan">kafka.Consumer.prototype.</span>_pollForMessages
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_pollForMessages = function () {
		if (this._outstanding &#x3e; 0 || !this._shouldPoll) return
		this._shouldPoll = false

		for (i in this._topics) {
			this._outstanding++
			this.fetchTopic(this._topics[i])
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Consumer.prototype._processLast" id="apidoc.element.kafka.Consumer.prototype._processLast">
        function <span class="apidocSignatureSpan">kafka.Consumer.prototype.</span>_processLast
        <span class="apidocSignatureSpan">(topic, offset)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_processLast = function (topic, offset) {
		for (i in this._topics) if (this._topics[i].name == topic) {
			this._topics[i].offset = offset
			this._outstanding--
			this._pollForMessages()
			break
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Consumer.prototype._schedulePoll" id="apidoc.element.kafka.Consumer.prototype._schedulePoll">
        function <span class="apidocSignatureSpan">kafka.Consumer.prototype.</span>_schedulePoll
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_schedulePoll = function () {
		this._timeoutID = setTimeout(std.bind(this, &#x27;_schedulePoll&#x27;), this._pollInterval)
		this._shouldPoll = true
		this._pollForMessages()
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Consumer.prototype._unschedulePoll" id="apidoc.element.kafka.Consumer.prototype._unschedulePoll">
        function <span class="apidocSignatureSpan">kafka.Consumer.prototype.</span>_unschedulePoll
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_unschedulePoll = function () {
		clearTimeout(this._timeoutID)
		this._shouldPoll = false
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Consumer.prototype.close" id="apidoc.element.kafka.Consumer.prototype.close">
        function <span class="apidocSignatureSpan">kafka.Consumer.prototype.</span>close
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">close = function () {
		supr(this, &#x27;close&#x27;)
		this._unschedulePoll()
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	new kafka.Consumer().connect().subscribeTopic(&#x27;test&#x27;).on(&#x27;message&#x27;, function(topic, message) {
		console.log(&#x22;Consumed message:&#x22;, message)
	})
	
	var producer = new kafka.Producer().connect().on(&#x27;connect&#x27;, function() {
		producer.send(&#x22;hey!&#x22;)
		producer.<span class="apidocCodeKeywordSpan">close</span>()
	})

API
---

`kafka.Consumer`
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Consumer.prototype.constructor" id="apidoc.element.kafka.Consumer.prototype.constructor">
        function <span class="apidocSignatureSpan">kafka.Consumer.prototype.</span>constructor
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">constructor = function () {
		if(this.init) { this.init.apply(this, arguments) }
		for (var i=0, mixin; mixin = mixins[i]; i++) {
			if (mixin.init) { mixin.init.apply(this) }
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Consumer.prototype.init" id="apidoc.element.kafka.Consumer.prototype.init">
        function <span class="apidocSignatureSpan">kafka.Consumer.prototype.</span>init
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">init = function (opts) {
		supr(this, &#x27;init&#x27;, arguments)
		opts = std.extend(opts, defaults)
		this._pollInterval = opts.pollInterval
		this._topics = []
		this._outstanding = 0
		this._shouldPoll = false
		
		this.on(&#x27;lastmessage&#x27;, std.bind(this, &#x27;_processLast&#x27;))
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Consumer.prototype.subscribeTopic" id="apidoc.element.kafka.Consumer.prototype.subscribeTopic">
        function <span class="apidocSignatureSpan">kafka.Consumer.prototype.</span>subscribeTopic
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">subscribeTopic = function (opts) {
		var topic = opts.name == undefined ? { name:opts, offset:0, partition: 0 } : std.extend(opts, subscription_defaults)
		this._topics.push(topic)
		if (this._topics.length == 1) this._schedulePoll()
		return this
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

 2 Start zookeeper, kafka server, and a consumer (see http://sna-projects.com/kafka/quickstart.php)

 3 Publish and consume some messages!

	var kafka = require(&#x27;kafka&#x27;)
	
	new kafka.Consumer().connect().<span class="apidocCodeKeywordSpan">subscribeTopic</span>(&#x27;test&#x27;).on(&#x27;message&#x27
;, function(topic, message) {
		console.log(&#x22;Consumed message:&#x22;, message)
	})
	
	var producer = new kafka.Producer().connect().on(&#x27;connect&#x27;, function() {
		producer.send(&#x22;hey!&#x22;)
		producer.close()
	})
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Consumer.prototype.unsubscribeTopic" id="apidoc.element.kafka.Consumer.prototype.unsubscribeTopic">
        function <span class="apidocSignatureSpan">kafka.Consumer.prototype.</span>unsubscribeTopic
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unsubscribeTopic = function (name) {
		this._topics = this._topics.filter(function(x) { return x.name != name })
		if (this._topics.length == 0) this._unschedulePoll()
		return this
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.kafka.Consumer.prototype._pollForMessages" id="apidoc.module.kafka.Consumer.prototype._pollForMessages">module kafka.Consumer.prototype._pollForMessages</a></h1>


    <h2>
        <a href="#apidoc.element.kafka.Consumer.prototype._pollForMessages._pollForMessages" id="apidoc.element.kafka.Consumer.prototype._pollForMessages._pollForMessages">
        function <span class="apidocSignatureSpan">kafka.Consumer.prototype.</span>_pollForMessages
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_pollForMessages = function () {
		if (this._outstanding &#x3e; 0 || !this._shouldPoll) return
		this._shouldPoll = false

		for (i in this._topics) {
			this._outstanding++
			this.fetchTopic(this._topics[i])
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.kafka.Consumer.prototype._processLast" id="apidoc.module.kafka.Consumer.prototype._processLast">module kafka.Consumer.prototype._processLast</a></h1>


    <h2>
        <a href="#apidoc.element.kafka.Consumer.prototype._processLast._processLast" id="apidoc.element.kafka.Consumer.prototype._processLast._processLast">
        function <span class="apidocSignatureSpan">kafka.Consumer.prototype.</span>_processLast
        <span class="apidocSignatureSpan">(topic, offset)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_processLast = function (topic, offset) {
		for (i in this._topics) if (this._topics[i].name == topic) {
			this._topics[i].offset = offset
			this._outstanding--
			this._pollForMessages()
			break
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.kafka.Consumer.prototype._schedulePoll" id="apidoc.module.kafka.Consumer.prototype._schedulePoll">module kafka.Consumer.prototype._schedulePoll</a></h1>


    <h2>
        <a href="#apidoc.element.kafka.Consumer.prototype._schedulePoll._schedulePoll" id="apidoc.element.kafka.Consumer.prototype._schedulePoll._schedulePoll">
        function <span class="apidocSignatureSpan">kafka.Consumer.prototype.</span>_schedulePoll
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_schedulePoll = function () {
		this._timeoutID = setTimeout(std.bind(this, &#x27;_schedulePoll&#x27;), this._pollInterval)
		this._shouldPoll = true
		this._pollForMessages()
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.kafka.Consumer.prototype._unschedulePoll" id="apidoc.module.kafka.Consumer.prototype._unschedulePoll">module kafka.Consumer.prototype._unschedulePoll</a></h1>


    <h2>
        <a href="#apidoc.element.kafka.Consumer.prototype._unschedulePoll._unschedulePoll" id="apidoc.element.kafka.Consumer.prototype._unschedulePoll._unschedulePoll">
        function <span class="apidocSignatureSpan">kafka.Consumer.prototype.</span>_unschedulePoll
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_unschedulePoll = function () {
		clearTimeout(this._timeoutID)
		this._shouldPoll = false
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.kafka.Consumer.prototype.close" id="apidoc.module.kafka.Consumer.prototype.close">module kafka.Consumer.prototype.close</a></h1>


    <h2>
        <a href="#apidoc.element.kafka.Consumer.prototype.close.close" id="apidoc.element.kafka.Consumer.prototype.close.close">
        function <span class="apidocSignatureSpan">kafka.Consumer.prototype.</span>close
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">close = function () {
		supr(this, &#x27;close&#x27;)
		this._unschedulePoll()
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	
	new kafka.Consumer().connect().subscribeTopic(&#x27;test&#x27;).on(&#x27;message&#x27;, function(topic, message) {
		console.log(&#x22;Consumed message:&#x22;, message)
	})
	
	var producer = new kafka.Producer().connect().on(&#x27;connect&#x27;, function() {
		producer.send(&#x22;hey!&#x22;)
		producer.<span class="apidocCodeKeywordSpan">close</span>()
	})

API
---

`kafka.Consumer`
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.kafka.Consumer.prototype.init" id="apidoc.module.kafka.Consumer.prototype.init">module kafka.Consumer.prototype.init</a></h1>


    <h2>
        <a href="#apidoc.element.kafka.Consumer.prototype.init.init" id="apidoc.element.kafka.Consumer.prototype.init.init">
        function <span class="apidocSignatureSpan">kafka.Consumer.prototype.</span>init
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">init = function (opts) {
		supr(this, &#x27;init&#x27;, arguments)
		opts = std.extend(opts, defaults)
		this._pollInterval = opts.pollInterval
		this._topics = []
		this._outstanding = 0
		this._shouldPoll = false
		
		this.on(&#x27;lastmessage&#x27;, std.bind(this, &#x27;_processLast&#x27;))
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.kafka.Consumer.prototype.subscribeTopic" id="apidoc.module.kafka.Consumer.prototype.subscribeTopic">module kafka.Consumer.prototype.subscribeTopic</a></h1>


    <h2>
        <a href="#apidoc.element.kafka.Consumer.prototype.subscribeTopic.subscribeTopic" id="apidoc.element.kafka.Consumer.prototype.subscribeTopic.subscribeTopic">
        function <span class="apidocSignatureSpan">kafka.Consumer.prototype.</span>subscribeTopic
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">subscribeTopic = function (opts) {
		var topic = opts.name == undefined ? { name:opts, offset:0, partition: 0 } : std.extend(opts, subscription_defaults)
		this._topics.push(topic)
		if (this._topics.length == 1) this._schedulePoll()
		return this
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

 2 Start zookeeper, kafka server, and a consumer (see http://sna-projects.com/kafka/quickstart.php)

 3 Publish and consume some messages!

	var kafka = require(&#x27;kafka&#x27;)
	
	new kafka.Consumer().connect().<span class="apidocCodeKeywordSpan">subscribeTopic</span>(&#x27;test&#x27;).on(&#x27;message&#x27
;, function(topic, message) {
		console.log(&#x22;Consumed message:&#x22;, message)
	})
	
	var producer = new kafka.Producer().connect().on(&#x27;connect&#x27;, function() {
		producer.send(&#x22;hey!&#x22;)
		producer.close()
	})
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.kafka.Consumer.prototype.unsubscribeTopic" id="apidoc.module.kafka.Consumer.prototype.unsubscribeTopic">module kafka.Consumer.prototype.unsubscribeTopic</a></h1>


    <h2>
        <a href="#apidoc.element.kafka.Consumer.prototype.unsubscribeTopic.unsubscribeTopic" id="apidoc.element.kafka.Consumer.prototype.unsubscribeTopic.unsubscribeTopic">
        function <span class="apidocSignatureSpan">kafka.Consumer.prototype.</span>unsubscribeTopic
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unsubscribeTopic = function (name) {
		this._topics = this._topics.filter(function(x) { return x.name != name })
		if (this._topics.length == 0) this._unschedulePoll()
		return this
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.kafka.Producer" id="apidoc.module.kafka.Producer">module kafka.Producer</a></h1>


    <h2>
        <a href="#apidoc.element.kafka.Producer.Producer" id="apidoc.element.kafka.Producer.Producer">
        function <span class="apidocSignatureSpan">kafka.</span>Producer
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Producer = function () {
		if(this.init) { this.init.apply(this, arguments) }
		for (var i=0, mixin; mixin = mixins[i]; i++) {
			if (mixin.init) { mixin.init.apply(this) }
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

	var kafka = require(&#x27;kafka&#x27;)
	
	new kafka.Consumer().connect().subscribeTopic(&#x27;test&#x27;).on(&#x27;message&#x27;, function(topic, message) {
		console.log(&#x22;Consumed message:&#x22;, message)
	})
	
	var producer = new kafka.<span class="apidocCodeKeywordSpan">Producer</span>().connect().on(&#x27;connect&#x27;, function() {
		producer.send(&#x22;hey!&#x22;)
		producer.close()
	})

API
---
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.kafka.Producer.prototype" id="apidoc.module.kafka.Producer.prototype">module kafka.Producer.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.kafka.Producer.prototype._encodeMessage" id="apidoc.element.kafka.Producer.prototype._encodeMessage">
        function <span class="apidocSignatureSpan">kafka.Producer.prototype.</span>_encodeMessage
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_encodeMessage = function (message) {
		return std.pack(&#x27;CN&#x27;, this._magicValue, std.crc32(message)) + message
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Producer.prototype._encodeRequest" id="apidoc.element.kafka.Producer.prototype._encodeRequest">
        function <span class="apidocSignatureSpan">kafka.Producer.prototype.</span>_encodeRequest
        <span class="apidocSignatureSpan">(topic, partition, messages)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_encodeRequest = function (topic, partition, messages) {
		var encodedMessages = &#x27;&#x27;
		for (var i=0; i&#x3c;messages.length; i++) {
			var encodedMessage = this._encodeMessage(messages[i])
			encodedMessages += std.pack(&#x27;N&#x27;, encodedMessage.length) + encodedMessage
		}

		var request = std.pack(&#x27;n&#x27;, this._requestType)
			+ std.pack(&#x27;n&#x27;, topic.length) + topic
			+ std.pack(&#x27;N&#x27;, partition)
			+ std.pack(&#x27;N&#x27;, encodedMessages.length) + encodedMessages
		
		return this._bufferPacket(std.pack(&#x27;N&#x27;, request.length) + request)
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Producer.prototype.constructor" id="apidoc.element.kafka.Producer.prototype.constructor">
        function <span class="apidocSignatureSpan">kafka.Producer.prototype.</span>constructor
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">constructor = function () {
		if(this.init) { this.init.apply(this, arguments) }
		for (var i=0, mixin; mixin = mixins[i]; i++) {
			if (mixin.init) { mixin.init.apply(this) }
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Producer.prototype.init" id="apidoc.element.kafka.Producer.prototype.init">
        function <span class="apidocSignatureSpan">kafka.Producer.prototype.</span>init
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">init = function (opts) {
		supr(this, &#x27;init&#x27;, arguments)
		opts = std.extend(opts, defaults)
		this._partition = opts.partition
		this._topic = opts.topic
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.kafka.Producer.prototype.send" id="apidoc.element.kafka.Producer.prototype.send">
        function <span class="apidocSignatureSpan">kafka.Producer.prototype.</span>send
        <span class="apidocSignatureSpan">(messages, topic, partition)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">send = function (messages, topic, partition) {
		if (typeof topic == &#x27;undefined&#x27;) { topic = this._topic }
		if (typeof partition == &#x27;undefined&#x27;) { partition = this._partition }
		if (!(messages instanceof Array)) { messages = [messages] }
		this._connection.write(this._encodeRequest(topic, partition, messages))
		return this
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	var kafka = require(&#x27;kafka&#x27;)
	
	new kafka.Consumer().connect().subscribeTopic(&#x27;test&#x27;).on(&#x27;message&#x27;, function(topic, message) {
		console.log(&#x22;Consumed message:&#x22;, message)
	})
	
	var producer = new kafka.Producer().connect().on(&#x27;connect&#x27;, function() {
		producer.<span class="apidocCodeKeywordSpan">send</span>(&#x22;hey!&#x22;)
		producer.close()
	})

API
---

`kafka.Consumer`
...</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.kafka.Producer.prototype._encodeMessage" id="apidoc.module.kafka.Producer.prototype._encodeMessage">module kafka.Producer.prototype._encodeMessage</a></h1>


    <h2>
        <a href="#apidoc.element.kafka.Producer.prototype._encodeMessage._encodeMessage" id="apidoc.element.kafka.Producer.prototype._encodeMessage._encodeMessage">
        function <span class="apidocSignatureSpan">kafka.Producer.prototype.</span>_encodeMessage
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_encodeMessage = function (message) {
		return std.pack(&#x27;CN&#x27;, this._magicValue, std.crc32(message)) + message
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.kafka.Producer.prototype._encodeRequest" id="apidoc.module.kafka.Producer.prototype._encodeRequest">module kafka.Producer.prototype._encodeRequest</a></h1>


    <h2>
        <a href="#apidoc.element.kafka.Producer.prototype._encodeRequest._encodeRequest" id="apidoc.element.kafka.Producer.prototype._encodeRequest._encodeRequest">
        function <span class="apidocSignatureSpan">kafka.Producer.prototype.</span>_encodeRequest
        <span class="apidocSignatureSpan">(topic, partition, messages)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_encodeRequest = function (topic, partition, messages) {
		var encodedMessages = &#x27;&#x27;
		for (var i=0; i&#x3c;messages.length; i++) {
			var encodedMessage = this._encodeMessage(messages[i])
			encodedMessages += std.pack(&#x27;N&#x27;, encodedMessage.length) + encodedMessage
		}

		var request = std.pack(&#x27;n&#x27;, this._requestType)
			+ std.pack(&#x27;n&#x27;, topic.length) + topic
			+ std.pack(&#x27;N&#x27;, partition)
			+ std.pack(&#x27;N&#x27;, encodedMessages.length) + encodedMessages
		
		return this._bufferPacket(std.pack(&#x27;N&#x27;, request.length) + request)
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.kafka.Producer.prototype.init" id="apidoc.module.kafka.Producer.prototype.init">module kafka.Producer.prototype.init</a></h1>


    <h2>
        <a href="#apidoc.element.kafka.Producer.prototype.init.init" id="apidoc.element.kafka.Producer.prototype.init.init">
        function <span class="apidocSignatureSpan">kafka.Producer.prototype.</span>init
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">init = function (opts) {
		supr(this, &#x27;init&#x27;, arguments)
		opts = std.extend(opts, defaults)
		this._partition = opts.partition
		this._topic = opts.topic
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.kafka.Producer.prototype.send" id="apidoc.module.kafka.Producer.prototype.send">module kafka.Producer.prototype.send</a></h1>


    <h2>
        <a href="#apidoc.element.kafka.Producer.prototype.send.send" id="apidoc.element.kafka.Producer.prototype.send.send">
        function <span class="apidocSignatureSpan">kafka.Producer.prototype.</span>send
        <span class="apidocSignatureSpan">(messages, topic, partition)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">send = function (messages, topic, partition) {
		if (typeof topic == &#x27;undefined&#x27;) { topic = this._topic }
		if (typeof partition == &#x27;undefined&#x27;) { partition = this._partition }
		if (!(messages instanceof Array)) { messages = [messages] }
		this._connection.write(this._encodeRequest(topic, partition, messages))
		return this
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	var kafka = require(&#x27;kafka&#x27;)
	
	new kafka.Consumer().connect().subscribeTopic(&#x27;test&#x27;).on(&#x27;message&#x27;, function(topic, message) {
		console.log(&#x22;Consumed message:&#x22;, message)
	})
	
	var producer = new kafka.Producer().connect().on(&#x27;connect&#x27;, function() {
		producer.<span class="apidocCodeKeywordSpan">send</span>(&#x22;hey!&#x22;)
		producer.close()
	})

API
---

`kafka.Consumer`
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
